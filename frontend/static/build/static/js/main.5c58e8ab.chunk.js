(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(12),r=n.n(c),o=(n(21),n(22),n(3)),i=n.n(o),u=n(6),l=n(4),b=n(7),j=n.n(b),m=(n(24),n(25),n.p+"static/media/logo.c507efeb.png"),h=n(1);function d(e){return Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("img",{className:"header-img mt-4",onClick:function(){e.changeStatus("splash")},src:m})})}n(27);var p=n(5),f=(n(28),n(29),n(9));function O(e){return Object(h.jsx)("div",{className:"chatroom-container",children:Object(h.jsxs)("button",{className:"btn btn-outline-success chatroom-btn",value:e.id,onClick:function(t){return function(t){e.changeChatRoom(t.target.value),t.target.classList.add("chatroom-selected"),console.log(t)}(t)},children:["#",e.name," ",Object(h.jsx)("button",{className:"chatroom-close-btn",value:e.id,onClick:function(t){return function(t){e.deleteChatRoom(t.currentTarget.value)}(t)},children:Object(h.jsx)(f.a,{})})]})})}var g=n(37),x=n(13);function v(e){var t,n=Object(s.useState)(!1),a=Object(l.a)(n,2),c=a[0],r=a[1],o=Object(s.useState)(""),i=Object(l.a)(o,2),u=i[0],b=i[1];return t=c?Object(h.jsx)("div",{className:"create-chatroom-container",children:Object(h.jsxs)("form",{action:"",children:[Object(h.jsx)("input",{onChange:function(e){return function(e){b(e.target.value)}(e)},value:u,type:"text",className:"form-control create-chat-input"}),Object(h.jsx)("button",{onClick:function(t){return e.postChatRoom(u),b(""),void r(!1)},type:"submit",className:"btn btn-success-outline create-chat-btn",children:"Create"})]})}):Object(h.jsxs)("button",{onClick:function(e){r(!0)},className:"btn btn-success-outline add-chatroom-btn",children:[" ",Object(h.jsx)(x.a,{})," Add Channel "]}),Object(h.jsxs)("div",{className:"chatroom-list-container",children:[Object(h.jsxs)("div",{className:"chatroom-list-header",children:[Object(h.jsx)("h2",{children:"Channels:"}),t]}),Object(h.jsx)("div",{className:"chatroom-list",children:e.chatRooms.map((function(t){return Object(s.createElement)(O,Object(p.a)(Object(p.a)({},t),{},{key:Object(g.a)(),changeChatRoom:e.changeChatRoom,deleteChatRoom:e.deleteChatRoom}))}))})]})}n(30),n(31);var N=n(14),y=n(15);function k(e){var t,n=Object(s.useState)(""),a=Object(l.a)(n,2),c=a[0],r=a[1],o=Object(s.useState)(!1),i=Object(l.a)(o,2),u=i[0],b=i[1];return t=u?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"message-bubble-editing",children:[Object(h.jsx)("div",{className:"message-icon-container",children:Object(h.jsx)("button",{type:"submit",value:e.id,onClick:function(t){return function(t){b(!1);var n=Object(p.a)({},e);n.body=c,console.log("AYYY",n),e.updateMessage(t.currentTarget.value,n)}(t)},className:"message-submit-edit-btn",children:Object(h.jsx)(N.a,{})})}),Object(h.jsx)("input",{onChange:function(e){return function(e){r(e.currentTarget.value),console.log(e.currentTarget.value)}(e)},value:c,type:"textarea",placeholder:"Edit message here...",className:"form-control"}),Object(h.jsxs)("span",{className:"message-content-author",children:[e.username,":"]})]})}):Object(h.jsxs)("div",{className:"message-bubble",children:[Object(h.jsxs)("div",{className:"message-icon-container",children:[Object(h.jsx)("button",{onClick:function(e){b(!0)},className:"message-edit-btn",children:Object(h.jsx)(y.a,{})}),Object(h.jsx)("button",{value:e.id,onClick:function(t){return function(t){console.log(t.currentTarget.value),e.deleteMessage(t.currentTarget.value)}(t)},className:"message-close-btn",children:Object(h.jsx)(f.a,{})})]}),Object(h.jsxs)("div",{className:"message-content-container",children:[Object(h.jsxs)("span",{className:"message-content-author",children:[e.username,":"]}),Object(h.jsx)("span",{className:"message-content-body",children:e.body})]})]}),Object(h.jsx)(h.Fragment,{children:t})}function w(e){var t=Object(s.useState)(""),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(h.jsxs)("div",{className:"message-list-container",children:[e.messages.map((function(t){return Object(h.jsx)(k,Object(p.a)(Object(p.a)({},t),{},{deleteMessage:e.deleteMessage,updateMessage:e.updateMessage}),Object(g.a)())})),Object(h.jsx)("div",{className:"new-message-container",children:Object(h.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.postMessage(a),c("")}(t)},children:[Object(h.jsx)("label",{htmlFor:"chat-message"}),Object(h.jsx)("input",{type:"textarea",id:"chat-message",placeholder:"Enter Message...",onChange:function(e){return function(e){c(e.target.value)}(e)},value:a,className:"form-control enter-message-input"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-outline-success submit-message-btn",children:"Send"})]})})]})}function C(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)([]),r=Object(l.a)(c,2),o=r[0],b=r[1],m=Object(s.useState)(0),d=Object(l.a)(m,2),p=d[0],f=d[1],O=Object(s.useRef)(!0);function g(){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chatrooms/").then((function(e){return e.json()})).then((function(e){return a(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chatrooms/".concat(p,"/messages/").concat(t,"/"),{method:"DELETE",headers:{"X-CSRFToken":j.a.get("csrftoken")}});case 2:k();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chatrooms/".concat(t,"/"),{method:"DELETE",headers:{"X-CSRFToken":j.a.get("csrftoken")}});case 2:g();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chatrooms/".concat(p,"/messages/")).then((function(e){return e.json()})).then((function(e){return b(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t},e.next=3,fetch("/api/chatrooms/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(n)});case 3:return s=e.sent,g(),e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(u.a)(i.a.mark((function e(t){var n,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={room:p,user:"Username",body:t},e.next=3,fetch("/api/chatrooms/".concat(p,"/messages/"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(n)});case 3:return s=e.sent,k(),e.next=7,s.json();case 7:a=e.sent,console.log(a.username);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(i.a.mark((function e(t,n){var s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(n)},e.next=3,fetch("/api/chatrooms/".concat(p,"/messages/").concat(t,"/"),s);case 3:return a=e.sent,k(),e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(o),Object(s.useEffect)((function(){g(),console.log(o)}),[]),Object(s.useEffect)((function(){O.current?O.current=!1:k(p)}),[p]),Object(h.jsxs)("div",{className:"main-container",children:[Object(h.jsx)(v,{chatRooms:n,changeChatRoom:function(e){f(e)},postChatRoom:function(e){return S.apply(this,arguments)},deleteChatRoom:function(e){return y.apply(this,arguments)}}),Object(h.jsx)(w,{messages:o,grabMessages:k,postMessage:function(e){return T.apply(this,arguments)},deleteMessage:function(e){return N.apply(this,arguments)},updateMessage:function(e,t){return R.apply(this,arguments)}})]})}n(32);function S(){return Object(h.jsx)("div",{className:"footer-container",children:Object(h.jsxs)("p",{className:"footer-copyright",children:[" Copyright ",Object(h.jsx)(f.b,{})," 2021 Diskord. All Rights Reserved"]})})}var T=n(8),R=(n(33),n(10));function E(e){var t,n=Object(s.useState)({username:"",email:"",password1:"",password2:""}),a=Object(l.a)(n,2),c=a[0],r=a[1];function o(e){r((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(T.a)({},e.target.id,e.target.value))})),console.log("FORMDATA",c)}return t=c.password1!==c.password2?Object(h.jsx)("p",{className:"text-danger",children:"Passwords do not match"}):"",Object(h.jsxs)("div",{className:"registration-form-container",children:[Object(h.jsx)("button",{className:"registration-back-btn",onClick:function(){e.changeStatus("splash")},children:Object(h.jsx)(R.a,{})}),Object(h.jsxs)("form",{className:"registration-form",onSubmit:function(t){return function(t){console.log(c),t.preventDefault(),c.password1===c.password2&&""!==c.password1&&e.handleRegistration(c)}(t)},children:[Object(h.jsxs)("div",{className:"form-group text-left mb-3 mt-1",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{type:"text",id:"username",value:c.username,onChange:function(e){return o(e)},placeholder:"Enter Username",className:"form-control"})]}),Object(h.jsxs)("div",{className:"form-group text-left mb-3 mt-3",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email:"}),Object(h.jsx)("input",{type:"email",id:"email",value:c.email,onChange:function(e){return o(e)},placeholder:"Enter Email",className:"form-control"})]}),Object(h.jsxs)("div",{className:"form-group mb-3 mt-3",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"Password",children:"Password:"}),Object(h.jsx)("input",{type:"password",id:"password1",value:c.password1,onChange:function(e){return o(e)},placeholder:"Enter Password",className:"form-control"})]}),Object(h.jsxs)("div",{className:"form-group mb-3 mt-3",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"password",children:"Re-enter Password:"}),Object(h.jsx)("input",{type:"password",id:"password2",value:c.password2,onChange:function(e){return o(e)},placeholder:"Enter Password",className:"form-control"}),t]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-success mt-3 registration-submit-btn",children:"Register"})]})]})}n(34);function F(e){function t(t){e.changeStatus(t.target.value)}return Object(h.jsxs)("div",{className:"splash-container",children:[Object(h.jsxs)("h1",{children:["Welcome to ",Object(h.jsx)("span",{className:"diskord-green",children:"Diskord"})," Chat Client"]}),Object(h.jsx)("p",{children:"Diskord is a place where you can belong to a programming cohort, a school club, a gaming group, or a worldwide art community. Where just you and a handful of friends can spend time together. A place that makes it easy to talk every day and hang out more often."}),Object(h.jsxs)("div",{className:"splash-btn-group",children:[Object(h.jsx)("button",{className:"btn btn-success",value:"register",onClick:t,children:"Register"}),Object(h.jsx)("button",{className:"btn btn-success mt-2",value:"login",onClick:t,children:"Login"})]})]})}n(35);function M(e){var t=Object(s.useState)({username:"",password:""}),n=Object(l.a)(t,2),a=n[0],c=n[1];function r(e){c((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(T.a)({},e.target.id,e.target.value))})),console.log("FORMDATA",a)}return Object(h.jsxs)("div",{className:"login-container",children:[Object(h.jsx)("button",{className:"login-back-btn",onClick:function(){e.changeStatus("splash")},children:Object(h.jsx)(R.a,{})}),Object(h.jsxs)("form",{onSubmit:function(t){console.log(a),t.preventDefault(),e.handleLogin(a)},children:[Object(h.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{type:"text",id:"username",value:a.username,onChange:function(e){return r(e)},placeholder:"Enter Username",className:"form-control"})]}),Object(h.jsxs)("div",{className:"form-group text-left mb-3 mt-2",children:[Object(h.jsx)("label",{className:"form-label",htmlFor:"Password",children:"Password:"}),Object(h.jsx)("input",{type:"password",id:"password",value:a.password,onChange:function(e){return r(e)},placeholder:"Enter Password",className:"form-control"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-success submit-login-btn",children:"Login"})]})]})}var P=function(){var e,t=Object(s.useState)("splash"),n=Object(l.a)(t,2),a=n[0],c=n[1];function r(){return(r=Object(u.a)(i.a.mark((function e(t){var n,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(t)},e.next=3,fetch("/rest-auth/registration/",n);case 3:return s=e.sent,e.prev=4,e.next=7,s.json();case 7:a=e.sent,console.log(a),j.a.set("Authorization","Token ".concat(a.key)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function o(){return(o=Object(u.a)(i.a.mark((function e(t){var n,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(t)},e.next=3,fetch("/rest-auth/login/",n);case 3:if(!0!==(s=e.sent).ok){e.next=12;break}return e.next=7,s.json();case 7:a=e.sent,j.a.set("Authorization","Token ".concat(a.key)),c("approved"),e.next=13;break;case 12:console.error(s.statusText);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){c(e)}switch(a){case"splash":e=Object(h.jsx)(F,{changeStatus:b});break;case"register":e=Object(h.jsx)(E,{handleRegistration:function(e){return r.apply(this,arguments)},changeStatus:b});break;case"login":e=Object(h.jsx)(M,{handleLogin:function(e){return o.apply(this,arguments)},changeStatus:b});break;case"approved":e=Object(h.jsx)(C,{})}return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(d,{changeStatus:b}),e,Object(h.jsx)(S,{})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.5c58e8ab.chunk.js.map